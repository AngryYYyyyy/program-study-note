{"remainingRequest":"I:\\MSB\\msb_hejiayun_work\\jeethink-UI\\jeethink-ui\\jeethink-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!I:\\MSB\\msb_hejiayun_work\\jeethink-UI\\jeethink-ui\\jeethink-ui\\src\\views\\property\\ownerRoom\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"I:\\MSB\\msb_hejiayun_work\\jeethink-UI\\jeethink-ui\\jeethink-ui\\src\\views\\property\\ownerRoom\\index.vue","mtime":1615183774655},{"path":"I:\\MSB\\msb_hejiayun_work\\jeethink-UI\\jeethink-ui\\jeethink-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\MSB\\msb_hejiayun_work\\jeethink-UI\\jeethink-ui\\jeethink-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"I:\\MSB\\msb_hejiayun_work\\jeethink-UI\\jeethink-ui\\jeethink-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"I:\\MSB\\msb_hejiayun_work\\jeethink-UI\\jeethink-ui\\jeethink-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBsaXN0Um9vbSwgZ2V0Um9vbSwgZGVsUm9vbSwgYWRkUm9vbSwgdXBkYXRlUm9vbSwgZXhwb3J0Um9vbSB9IGZyb20gIkAvYXBpL3Byb3BlcnR5L293bmVyUm9vbSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlJvb20iLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvL+e7keWumueKtuaAgQ0KICAgICAgYmluZGluZ09wdGlvbjogW3sNCiAgICAgICAgdmFsdWU6ICdBdWRpdGluZycsDQogICAgICAgIGxhYmVsOiAn5a6h5qC45LitJw0KICAgICAgfSx7DQogICAgICAgIHZhbHVlOiAnQmluZGluZycsDQogICAgICAgIGxhYmVsOiAn5bey57uR5a6aJw0KICAgICAgfSx7DQogICAgICAgIHZhbHVlOiAnUmVqZWN0JywNCiAgICAgICAgbGFiZWw6ICflt7Lmi5Lnu50nDQogICAgICB9XSwNCg0KICAgICAgc2hvdzogZmFsc2UsDQogICAgICAvLyDpga7nvanlsYINCiAgICAgIGxvYWRpbmc6IHRydWUsDQogICAgICAvLyDpgInkuK3mlbDnu4QNCiAgICAgIGlkczogW10sDQogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgNCiAgICAgIHNpbmdsZTogdHJ1ZSwNCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqA0KICAgICAgbXVsdGlwbGU6IHRydWUsDQogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YNCiAgICAgIHNob3dTZWFyY2g6IHRydWUsDQogICAgICAvLyDmgLvmnaHmlbANCiAgICAgIHRvdGFsOiAwLA0KICAgICAgLy8g5oi/5bGL57uR5a6aIOihqOagvOaVsOaNrg0KICAgICAgcm9vbUxpc3Q6IFtdLA0KICAgICAgLy/orrDlvZVJRA0KICAgICAgcmVjb3JkTGlzdDogW10sDQogICAgICAvLyDlvLnlh7rlsYLmoIfpopgNCiAgICAgIHRpdGxlOiAiIiwNCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxgg0KICAgICAgb3BlbjogZmFsc2UsDQogICAgICAvL+WuoeaguOiusOW9leWFqOi/h+eoi+W8ueWHuuWxgg0KICAgICAgZXhhbWluZVJlY29yZDogZmFsc2UsDQogICAgICAvLyDkuJrkuLvnsbvlnovlrZflhbgNCiAgICAgIG93bmVyVHlwZU9wdGlvbnM6IFtdLA0KICAgICAgLy8g5p+l6K+i5Y+C5pWwDQogICAgICBxdWVyeVBhcmFtczogew0KICAgICAgICBwYWdlTnVtOiAxLA0KICAgICAgICBwYWdlU2l6ZTogMTAsDQogICAgICAgIG93bmVyVHlwZTogbnVsbCwNCiAgICAgICAgcm9vbVN0YXR1czogbnVsbCwNCiAgICAgIH0sDQogICAgICAvLyDooajljZXlj4LmlbANCiAgICAgIGZvcm06IHt9LA0KICAgICAgLy8g6KGo5Y2V5qCh6aqMDQogICAgICBydWxlczogew0KDQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldExpc3QoKTsNCiAgICB0aGlzLmdldERpY3RzKCJ6eV9vd25lcl9zdGF0ZSIpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgdGhpcy5vd25lclR5cGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsNCiAgICB9KTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIOaIv+Wxi+eKtuaAgeWtl+WFuOe/u+ivkQ0KICAgICAgYmluZGluZ1N0YXR1c0Zvcm1hdChyb3csIGNvbHVtbikgew0KICAgICAgICAgIGlmKHJvdy5yb29tU3RhdHVzID09ICdBdWRpdGluZycpew0KICAgICAgICAgICAgcmV0dXJuICflrqHmoLjkuK0nOw0KICAgICAgICAgIH1lbHNlIGlmKHJvdy5yb29tU3RhdHVzID09ICdCaW5kaW5nJyl7DQogICAgICAgICAgICByZXR1cm4gJ+W3sue7keWumic7DQogICAgICAgICAgfWVsc2UgaWYocm93LnJvb21TdGF0dXMgPT0gJ1JlamVjdCcpew0KICAgICAgICAgICAgcmV0dXJuICflt7Lmi5Lnu50nOw0KICAgICAgICAgIH1lbHNlIGlmKHJvdy5yb29tU3RhdHVzID09ICdVbmJpbmQnKXsNCiAgICAgICAgICAgIHJldHVybiAn5bey5o+t5qacJzsNCiAgICAgICAgICB9DQogICAgICAgfSwNCiAgICAgIHJldmlld2VyU3RhdHVzRm9ybWF0KHJvdywgY29sdW1uKXsNCiAgICAgICAgaWYocm93LnJlY29yZEF1ZGl0VHlwZSA9PSAnV2ViJyl7DQogICAgICAgICAgICByZXR1cm4gJ+eJqeS4mic7DQogICAgICAgICAgIH1lbHNlIGlmKHJvdy5yZWNvcmRBdWRpdFR5cGUgPT0gJ0FwcCcpew0KICAgICAgICAgICAgcmV0dXJuICfkuJrkuLsnOw0KICAgICAgICB9DQogICAgICB9LA0KICAgIC8qKiDmn6Xor6LmiL/lsYvnu5HlrprliJfooaggKi8NCiAgICBnZXRMaXN0KCkgew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGxpc3RSb29tKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICB0aGlzLnJvb21MaXN0ID0gcmVzcG9uc2Uucm93czsNCiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOw0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLy8g5Lia5Li757G75Z6L5a2X5YW457+76K+RDQogICAgb3duZXJUeXBlRm9ybWF0KHJvdywgY29sdW1uKSB7DQogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy5vd25lclR5cGVPcHRpb25zLCByb3cub3duZXJUeXBlKTsNCiAgICB9LA0KICAgIC8vIOWPlua2iOaMiemSrg0KICAgIGNhbmNlbCgpIHsNCiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOw0KICAgICAgdGhpcy5yZXNldCgpOw0KICAgIH0sDQogICAgLy8g6KGo5Y2V6YeN572uDQogICAgcmVzZXQoKSB7DQogICAgICB0aGlzLmZvcm0gPSB7DQogICAgICAgIG93bmVyUm9vbUlkOiBudWxsLA0KICAgICAgICBjb21tdW5pdHlJZDogbnVsbCwNCiAgICAgICAgYnVpbGRpbmdJZDogbnVsbCwNCiAgICAgICAgdW5pdElkOiBudWxsLA0KICAgICAgICByb29tSWQ6IG51bGwsDQogICAgICAgIG93bmVySWQ6IG51bGwsDQogICAgICAgIG93bmVyVHlwZTogbnVsbCwNCiAgICAgICAgcm9vbVN0YXR1czogbnVsbCwNCiAgICAgICAgY3JlYXRlQnk6IG51bGwsDQogICAgICAgIGNyZWF0ZVRpbWU6IG51bGwsDQogICAgICAgIHVwZGF0ZUJ5OiBudWxsLA0KICAgICAgICB1cGRhdGVUaW1lOiBudWxsLA0KICAgICAgICByZW1hcms6IG51bGwNCiAgICAgIH07DQogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOw0KICAgIH0sDQogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLw0KICAgIGhhbmRsZVF1ZXJ5KCkgew0KICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsNCiAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIH0sDQogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLw0KICAgIHJlc2V0UXVlcnkoKSB7DQogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7DQogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCk7DQogICAgfSwNCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4NCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7DQogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLm93bmVyUm9vbUlkKQ0KICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoIT09MQ0KICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoDQogICAgfSwNCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlQWRkKCkgew0KICAgICAgdGhpcy5yZXNldCgpOw0KICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsNCiAgICAgIHRoaXMudGl0bGUgPSAi5re75Yqg5oi/5bGL57uR5a6aICI7DQogICAgfSwNCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlVXBkYXRlKHJvdykgew0KICAgICAgdGhpcy5yZXNldCgpOw0KICAgICAgdGhpcy5mb3JtID0gcm93Ow0KICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsNCiAgICAgIHRoaXMudGl0bGUgPSAi5a6h5qC4ICI7DQogICAgfSwNCiAgICAvKiog5a6h5qC46K6w5b2V5oyJ6ZKu5pON5L2cICovDQogICAgaGFuZGxlTG9vayhyb3cpIHsNCiAgICAgIHRoaXMucmVzZXQoKTsNCiAgICAgIHRoaXMuZm9ybSA9IHJvdzsNCiAgICAgIHRoaXMuZXhhbWluZVJlY29yZCA9IHRydWU7DQogICAgICBnZXRSb29tKHJvdy5vd25lclJvb21JZCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICB0aGlzLnJlY29yZExpc3QgPSByZXNwb25zZS5yb3dzOw0KICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOw0KICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIH0pOw0KICAgICAgdGhpcy50aXRsZSA9ICLlrqHmoLjorrDlvZXlhajov4fnqIsgIjsNCiAgICB9LA0KICAgIC8qKiDmj5DkuqTmjInpkq4gKi8NCiAgICBzdWJtaXRGb3JtKHR5cGUpIHsNCiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIGlmICh0aGlzLmZvcm0ub3duZXJSb29tSWQgIT0gbnVsbCkgew0KICAgICAgICAgICAvLyB0aGlzLmZvcm0ucm9vbVN0YXR1cyA9IHR5cGU7DQogICAgICAgICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICBvd25lclJvb21JZDogdGhpcy5mb3JtLm93bmVyUm9vbUlkLA0KICAgICAgICAgICAgICAgIHJlY29yZEF1ZGl0T3BpbmlvbjogdGhpcy5mb3JtLnJlY29yZEF1ZGl0T3BpbmlvbiwNCiAgICAgICAgICAgICAgIHJvb21TdGF0dXM6IHR5cGUsDQogICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHVwZGF0ZVJvb20oZGF0YSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCLlrqHmoLjmiJDlip8iKTsNCiAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7DQogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGFkZFJvb20odGhpcy5mb3JtKS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCLmlrDlop7miJDlip8iKTsNCiAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7DQogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8NCiAgICBoYW5kbGVEZWxldGUocm93KSB7DQogICAgICBjb25zdCBvd25lclJvb21JZHMgPSByb3cub3duZXJSb29tSWQgfHwgdGhpcy5pZHM7DQogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaTmiL/lsYvnu5Hlrpog57yW5Y+35Li6IicgKyBvd25lclJvb21JZHMgKyAnIueahOaVsOaNrumhuT8nLCAi6K2m5ZGKIiwgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwNCiAgICAgICAgICB0eXBlOiAid2FybmluZyINCiAgICAgICAgfSkudGhlbihmdW5jdGlvbigpIHsNCiAgICAgICAgICByZXR1cm4gZGVsUm9vbShvd25lclJvb21JZHMpOw0KICAgICAgICB9KS50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmdldExpc3QoKTsNCiAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOw0KICAgICAgICB9KQ0KICAgIH0sDQogICAgLyoqIOWvvOWHuuaMiemSruaTjeS9nCAqLw0KICAgIGhhbmRsZUV4cG9ydCgpIHsNCiAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gdGhpcy5xdWVyeVBhcmFtczsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWvvOWHuuaJgOacieaIv+Wxi+e7keWumiDmlbDmja7pobk/JywgIuitpuWRiiIsIHsNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsDQogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgICAgdHlwZTogIndhcm5pbmciDQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7DQogICAgICAgICAgcmV0dXJuIGV4cG9ydFJvb20ocXVlcnlQYXJhbXMpOw0KICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICB0aGlzLmRvd25sb2FkKHJlc3BvbnNlLm1zZyk7DQogICAgICAgIH0pDQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/property/ownerRoom","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n      <el-form-item label=\"绑定状态\" prop=\"roomStatus\">\r\n        <el-select v-model=\"queryParams.roomStatus\" placeholder=\"请选择绑定状态\" clearable size=\"small\">\r\n          <el-option\r\n                v-for=\"item in bindingOption\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"cyan\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <el-row :gutter=\"10\" class=\"mb8\">\r\n\r\n\t  <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    </el-row>\r\n\r\n    <el-table v-loading=\"loading\" :data=\"roomList\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n      <el-table-column\r\n                  label=\"序号\"\r\n                  type=\"index\"\r\n                  width=\"50\"\r\n                  align=\"center\">\r\n              </el-table-column>\r\n      <el-table-column v-if=\"show\" label=\"房屋绑定id\" align=\"center\" prop=\"ownerRoomId\" />\r\n      <el-table-column label=\"小区名称\" align=\"center\" prop=\"communityName\" />\r\n      <el-table-column label=\"楼栋名称\" align=\"center\" prop=\"buildingName\" />\r\n      <el-table-column label=\"单元名称\" align=\"center\" prop=\"unitName\" />\r\n      <el-table-column label=\"房间名称\" align=\"center\" prop=\"roomName\" />\r\n      <el-table-column label=\"业主姓名\" align=\"center\" prop=\"ownerRealName\" />\r\n      <el-table-column label=\"业主类型\" align=\"center\" prop=\"ownerType\" :formatter=\"ownerTypeFormat\" />\r\n      <el-table-column label=\"绑定状态\" align=\"center\" prop=\"roomStatus\" :formatter=\"bindingStatusFormat\"/>\r\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" />\r\n      <el-table-column label=\"操作\" align=\"center\" class-name=\"small-padding fixed-width\">\r\n        <template slot-scope=\"scope\">\r\n\r\n          <el-button v-if=\"scope.row.roomStatus === 'Auditing'\"\r\n            size=\"mini\"\r\n            type=\"text\"\r\n            icon=\"el-icon-thumb\"\r\n            @click=\"handleUpdate(scope.row)\"\r\n            v-hasPermi=\"['system:ownerRoom:remove']\"\r\n          >审核</el-button>\r\n          <el-button v-if=\"scope.row.roomStatus !== 'Auditing'\"\r\n                      size=\"mini\"\r\n                      type=\"text\"\r\n                      icon=\"el-icon-s-fold\"\r\n                      @click=\"handleLook(scope.row)\"\r\n                      v-hasPermi=\"['system:ownerRoom:remove']\"\r\n                    >审核记录</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    \r\n    <pagination\r\n      v-show=\"total>0\"\r\n      :total=\"total\"\r\n      :page.sync=\"queryParams.pageNum\"\r\n      :limit.sync=\"queryParams.pageSize\"\r\n      @pagination=\"getList\"\r\n    />\r\n\r\n    <!-- 审核记录全过程 -->\r\n   <el-dialog :title=\"title\" :visible.sync=\"examineRecord\" width=\"800px\" append-to-body>\r\n      <el-table v-loading=\"loading\" :data=\"recordList\" @selection-change=\"handleSelectionChange\">\r\n      <el-table-column\r\n                  label=\"序号\"\r\n                  type=\"index\"\r\n                  width=\"50\"\r\n                  align=\"center\">\r\n      </el-table-column>\r\n      <el-table-column label=\"业主姓名\" align=\"center\" prop=\"ownerRealName\" />\r\n      <el-table-column label=\"业主类型\" align=\"center\" prop=\"ownerType\" :formatter=\"ownerTypeFormat\" />\r\n      <el-table-column label=\"绑定状态\" align=\"center\" prop=\"roomStatus\" :formatter=\"bindingStatusFormat\"/>\r\n      <el-table-column label=\"审核意见\" align=\"center\" prop=\"recordAuditOpinion\" />\r\n      <el-table-column label=\"审核人姓名\" align=\"center\" prop=\"createByName\" />\r\n      <el-table-column label=\"审核人类型\" align=\"center\" prop=\"recordAuditType\" :formatter=\"reviewerStatusFormat\"/>\r\n      <el-table-column label=\"备注\" align=\"center\" prop=\"remark\" />\r\n    </el-table>\r\n\r\n   </el-dialog>\r\n    <!-- 添加或修改房屋绑定 对话框 -->\r\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"500px\" append-to-body>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-form-item label=\"审核意见\" prop=\"recordAuditOpinion\">\r\n          <el-input type=\"textarea\" v-model=\"form.recordAuditOpinion\" placeholder=\"请输入审核意见\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm('Binding')\">同 意</el-button>\r\n        <el-button @click=\"submitForm('Reject')\">拒 绝</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listRoom, getRoom, delRoom, addRoom, updateRoom, exportRoom } from \"@/api/property/ownerRoom\";\r\n\r\nexport default {\r\n  name: \"Room\",\r\n  data() {\r\n    return {\r\n      //绑定状态\r\n      bindingOption: [{\r\n        value: 'Auditing',\r\n        label: '审核中'\r\n      },{\r\n        value: 'Binding',\r\n        label: '已绑定'\r\n      },{\r\n        value: 'Reject',\r\n        label: '已拒绝'\r\n      }],\r\n\r\n      show: false,\r\n      // 遮罩层\r\n      loading: true,\r\n      // 选中数组\r\n      ids: [],\r\n      // 非单个禁用\r\n      single: true,\r\n      // 非多个禁用\r\n      multiple: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 房屋绑定 表格数据\r\n      roomList: [],\r\n      //记录ID\r\n      recordList: [],\r\n      // 弹出层标题\r\n      title: \"\",\r\n      // 是否显示弹出层\r\n      open: false,\r\n      //审核记录全过程弹出层\r\n      examineRecord: false,\r\n      // 业主类型字典\r\n      ownerTypeOptions: [],\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        ownerType: null,\r\n        roomStatus: null,\r\n      },\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getList();\r\n    this.getDicts(\"zy_owner_state\").then(response => {\r\n      this.ownerTypeOptions = response.data;\r\n    });\r\n  },\r\n  methods: {\r\n    // 房屋状态字典翻译\r\n      bindingStatusFormat(row, column) {\r\n          if(row.roomStatus == 'Auditing'){\r\n            return '审核中';\r\n          }else if(row.roomStatus == 'Binding'){\r\n            return '已绑定';\r\n          }else if(row.roomStatus == 'Reject'){\r\n            return '已拒绝';\r\n          }else if(row.roomStatus == 'Unbind'){\r\n            return '已揭榜';\r\n          }\r\n       },\r\n      reviewerStatusFormat(row, column){\r\n        if(row.recordAuditType == 'Web'){\r\n            return '物业';\r\n           }else if(row.recordAuditType == 'App'){\r\n            return '业主';\r\n        }\r\n      },\r\n    /** 查询房屋绑定列表 */\r\n    getList() {\r\n      this.loading = true;\r\n      listRoom(this.queryParams).then(response => {\r\n        this.roomList = response.rows;\r\n        this.total = response.total;\r\n        this.loading = false;\r\n      });\r\n    },\r\n    // 业主类型字典翻译\r\n    ownerTypeFormat(row, column) {\r\n      return this.selectDictLabel(this.ownerTypeOptions, row.ownerType);\r\n    },\r\n    // 取消按钮\r\n    cancel() {\r\n      this.open = false;\r\n      this.reset();\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {\r\n        ownerRoomId: null,\r\n        communityId: null,\r\n        buildingId: null,\r\n        unitId: null,\r\n        roomId: null,\r\n        ownerId: null,\r\n        ownerType: null,\r\n        roomStatus: null,\r\n        createBy: null,\r\n        createTime: null,\r\n        updateBy: null,\r\n        updateTime: null,\r\n        remark: null\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1;\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.resetForm(\"queryForm\");\r\n      this.handleQuery();\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange(selection) {\r\n      this.ids = selection.map(item => item.ownerRoomId)\r\n      this.single = selection.length!==1\r\n      this.multiple = !selection.length\r\n    },\r\n    /** 新增按钮操作 */\r\n    handleAdd() {\r\n      this.reset();\r\n      this.open = true;\r\n      this.title = \"添加房屋绑定 \";\r\n    },\r\n    /** 修改按钮操作 */\r\n    handleUpdate(row) {\r\n      this.reset();\r\n      this.form = row;\r\n      this.open = true;\r\n      this.title = \"审核 \";\r\n    },\r\n    /** 审核记录按钮操作 */\r\n    handleLook(row) {\r\n      this.reset();\r\n      this.form = row;\r\n      this.examineRecord = true;\r\n      getRoom(row.ownerRoomId).then(response => {\r\n         this.recordList = response.rows;\r\n         this.total = response.total;\r\n         this.loading = false;\r\n        });\r\n      this.title = \"审核记录全过程 \";\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm(type) {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          if (this.form.ownerRoomId != null) {\r\n           // this.form.roomStatus = type;\r\n            let data = {\r\n                ownerRoomId: this.form.ownerRoomId,\r\n                recordAuditOpinion: this.form.recordAuditOpinion,\r\n               roomStatus: type,\r\n             };\r\n            updateRoom(data).then(response => {\r\n              console.log(response);\r\n              this.msgSuccess(\"审核成功\");\r\n              this.open = false;\r\n              this.getList();\r\n            });\r\n          } else {\r\n            addRoom(this.form).then(response => {\r\n              this.msgSuccess(\"新增成功\");\r\n              this.open = false;\r\n              this.getList();\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    /** 删除按钮操作 */\r\n    handleDelete(row) {\r\n      const ownerRoomIds = row.ownerRoomId || this.ids;\r\n      this.$confirm('是否确认删除房屋绑定 编号为\"' + ownerRoomIds + '\"的数据项?', \"警告\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\"\r\n        }).then(function() {\r\n          return delRoom(ownerRoomIds);\r\n        }).then(() => {\r\n          this.getList();\r\n          this.msgSuccess(\"删除成功\");\r\n        })\r\n    },\r\n    /** 导出按钮操作 */\r\n    handleExport() {\r\n      const queryParams = this.queryParams;\r\n      this.$confirm('是否确认导出所有房屋绑定 数据项?', \"警告\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\"\r\n        }).then(function() {\r\n          return exportRoom(queryParams);\r\n        }).then(response => {\r\n          this.download(response.msg);\r\n        })\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}